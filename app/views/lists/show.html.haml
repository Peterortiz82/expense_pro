-if @list.expenses.empty?
  %h4 Opps! Looks like We could not find any results that matched your criteria or you have not logged any expenses.
  = link_to 'Back', :back
  |
  = link_to 'Log Expense', new_list_expense_path(@list.id)
-else
  .col-md-1-pull-right
  = button_tag 'Search', id: 'search-button', class: 'btn btn-default' do
    %span.glyphicon.glyphicon-search
  = render 'search'
  .panel.panel-default
    .table-responsive
      %table.table.table-bordered
        %tr
          %th= sort_link @search, :expense_date, 'Date'
          %th= sort_link @search, :user_display_name, 'Person'
          %th= sort_link @search, :category_id
          %th  Expense
          %th= sort_link @search, :amount
          %th  Description
          %th  Remove
        - @list.expenses.each do |t|
          %tr
            %td= t.expense_date.strftime("%B %d, %Y")
            %td= t.user.display_name
            -if t.category
              %td= t.category.name
            -else
              %td= 'Other'
            -if t.sub_category
              %td= t.sub_category.name
            -else
              %td= t.name
            %td= number_to_currency t.amount
            %td= auto_link t.description
            %td= link_to 'Delete', "#", method: :delete, data: {confirm: "Are you sure?"}
  .well.well-sm
    .total
      = "Total: #{number_to_currency @expenses.sum(:amount)}"
  -#= will_paginate @list.expenses
  = link_to 'Log Expense', new_list_expense_path(@list), class: 'btn btn-primary pull-right'